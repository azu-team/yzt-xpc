(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/common/quickHelp"],{"0116":function(t,e,n){"use strict";(function(t){function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){o(t,e,n[e])})}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t.getRecorderManager(),a=t.createInnerAudioContext();a.autoplay=!0;var c={data:function(){return{region:"选择位置",editorCtx:"",contactArr:[],recordStatus:"1",audioStatus:"播放文件",text:"uni-app",voicePath:"",form:{field06:"0",field07:"无",field09:""},list1:[{value:"0",name:"健康",checked:!0},{value:"1",name:"有发烧、咳嗽等症状"},{value:"2",name:"其他症状"}],list2:[{value:"无",name:"无"},{value:"有",name:"有"}]}},computed:{audioText:function(){var t={1:"录制",2:"结束录制",3:"重新录制"};return t[this.recordStatus]}},mounted:function(){var t=this;this.judgeAuthorize(),a.onEnded(function(){t.audioStatus="播放文件"})},methods:{handleCancelChoose:function(){this.$refs.linkage.hide()},showChoose:function(){this.$refs.linkage.show()},handleChoose:function(t){t.checkArr,t.checkValue,t.defaultVal;var e=t.result;this.$refs.linkage.hide(),this.region=e,this.form.field02=e},onEditorReady:function(){var e=this;t.createSelectorQuery().select("#editor").context(function(t){e.editorCtx=t.context}).exec()},handleCall:function(e){t.makePhoneCall({phoneNumber:e})},handleRadioChange:function(t,e){this.form[e]=t.target.value},validate:function(){var e=this;this.editorCtx.getContents({success:function(t){e.form.field09=t.text},fail:function(){t.showToast({title:"求助具体要求出现问题!",icon:"none"})},complete:function(){e.sendData()}})},judgeAuthorize:function(){var e=this;t.getSetting({success:function(n){n.authSetting["scope.record"]?e.initPage():t.authorize({scope:"scope.record",success:function(){e.initPage()},fail:function(){t.showToast({title:"请确认录音功能正常",icon:"none"}),setTimeout(function(){t.openSetting({success:function(t){e.initPage()}})},1500)}})}})},initPage:function(){var t=this;i.onStop(function(e){t.voicePath=e.tempFilePath})},handleRecord:function(){1==this.recordStatus||3==this.recordStatus?(i.start(),this.recordStatus=2):2==this.recordStatus&&(i.stop(),this.recordStatus=3)},playVoice:function(){"播放中..."!=this.audioStatus&&this.voicePath&&(a.src=this.voicePath,a.play(),this.audioStatus="播放中...")},sendData:function(){var e=n({},this.form,{field01:t.getStorageSync("userId")});this.$HTTP({url:"/getHelp/save",params:e,successCallback:function(e){var n=e.data;0==n.code?(t.showToast({title:"提交成功!"}),setTimeout(function(){t.navigateBack()},1500)):t.showToast({title:n.msg,icon:"none"})}})}}};e.default=c}).call(this,n("543d")["default"])},"1bfd":function(t,e,n){"use strict";n.r(e);var o=n("80d0"),i=n("c0b5");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);n("341e");var c,u=n("f0c5"),r=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,"46edd16a",null,!1,o["a"],c);e["default"]=r.exports},"236b":function(t,e,n){"use strict";(function(t){n("4f29"),n("921b");o(n("66fd"));var e=o(n("1bfd"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"341e":function(t,e,n){"use strict";var o=n("cbbb"),i=n.n(o);i.a},"80d0":function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o})},c0b5:function(t,e,n){"use strict";n.r(e);var o=n("0116"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=i.a},cbbb:function(t,e,n){}},[["236b","common/runtime","common/vendor"]]]);