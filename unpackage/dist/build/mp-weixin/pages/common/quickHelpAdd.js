(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/common/quickHelpAdd"],{"53fb":function(t,e,n){"use strict";var o=n("bc39"),i=n.n(o);i.a},"5d5d":function(t,e,n){"use strict";n.r(e);var o=n("89e7"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=i.a},"89e7":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("540b"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){c(t,e,n[e])})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=t.getRecorderManager(),r=t.createInnerAudioContext();r.autoplay=!0;var s={data:function(){return{amapPlugin:null,key:"ce334d5499fb668332c1a65513a54201",canRecord:!1,region:"选择位置",editorCtx:"",contactArr:[{name:"班主任",phone:"18621582789"},{name:"学校保卫室",phone:"18621582789"},{name:"110",phone:"18621582789"}],recordStatus:"1",audioStatus:"播放文件",text:"uni-app",voicePath:"",form:{field02:"",field06:"健康",field07:"无",field09:""},list1:[{value:"健康",name:"健康",checked:!0},{value:"有发烧、咳嗽等症状",name:"有发烧、咳嗽等症状"},{value:"其他症状",name:"其他症状"}],list2:[{value:"无",name:"无"},{value:"有",name:"有"}]}},computed:{audioText:function(){var t={1:"录制",2:"结束录制",3:"重新录制"};return t[this.recordStatus]}},mounted:function(){var t=this;this.amapPlugin=new o.default.AMapWX({key:this.key}),this.judgeAuthorize(),r.onEnded(function(){t.audioStatus="播放文件"})},methods:{handleCancelChoose:function(){this.$refs.linkage.hide()},showChoose:function(){this.$refs.linkage.show()},handleChoose:function(t){t.checkArr,t.checkValue,t.defaultVal;var e=t.result;this.$refs.linkage.hide(),this.region=e,this.form.field02=e},onEditorReady:function(){var e=this;t.createSelectorQuery().in(this).select("#editor").context(function(t){e.editorCtx=t.context}).exec()},handleCall:function(e){t.makePhoneCall({phoneNumber:e})},handleRadioChange:function(t,e){this.form[e]=t.target.value},validate:function(){var e=this;this.editorCtx.getContents({success:function(t){e.form.field09=t.text},fail:function(){t.showToast({title:"求助具体要求出现问题!",icon:"none"})},complete:function(){e.sendData()}})},hasLocationQx:function(){var e=this;t.getLocation({success:function(t){e.amapPlugin.getRegeo({success:function(t){e.form.field02=t[0].name},fail:function(t){console.log(t,"err")}})},fail:function(){t.showToast({title:"请打开定位服务以便获取当前位置!",icon:"none",duration:3e3})}})},judgeAuthorize:function(){var e=this;t.getSetting({success:function(n){n.authSetting["scope.record"]&&(e.canRecord=!0,e.initPage()),n.authSetting["scope.userLocation"]?e.hasLocationQx():t.authorize({scope:"scope.userLocation",success:function(){e.hasLocationQx()},fail:function(){t.showToast({title:"请打开定位服务以便获取当前位置!",icon:"none",duration:3e3})}})}})},initPage:function(){var t=this;u.onStop(function(e){t.voicePath=e.tempFilePath})},openQx:function(){var e=this;t.authorize({scope:"scope.record",success:function(){e.canRecord=!0,e.initPage()},fail:function(){t.showToast({title:"请确认录音功能正常",icon:"none"}),setTimeout(function(){t.openSetting({success:function(t){e.canRecord=!0,e.initPage()}})},500)}})},handleRecord:function(){var e=this;if(!this.canRecord)return t.showToast({title:"请保证当前录音权限正常!",icon:"none"}),void setTimeout(function(){e.openQx()},1500);1==this.recordStatus||3==this.recordStatus?(u.start(),this.recordStatus=2):2==this.recordStatus&&(u.stop(),this.recordStatus=3)},playVoice:function(){"播放中..."!=this.audioStatus&&this.voicePath&&(r.src=this.voicePath,r.play(),this.audioStatus="播放中...")},sendData:function(){var e=a({},this.form,{field01:t.getStorageSync("userId")});this.$HTTP({url:"/getHelp/save",params:e,successCallback:function(e){var n=e.data;0==n.code?(t.showToast({title:"提交成功!"}),setTimeout(function(){t.navigateBack()},1500)):t.showToast({title:n.msg,icon:"none"})}})}}};e.default=s}).call(this,n("543d")["default"])},bc39:function(t,e,n){},c327:function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o})},d899:function(t,e,n){"use strict";n.r(e);var o=n("c327"),i=n("5d5d");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);n("53fb");var c,u=n("f0c5"),r=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,"c5dd0470",null,!1,o["a"],c);e["default"]=r.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/common/quickHelpAdd-create-component',
    {
        'pages/common/quickHelpAdd-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("d899"))
        })
    },
    [['pages/common/quickHelpAdd-create-component']]
]);
